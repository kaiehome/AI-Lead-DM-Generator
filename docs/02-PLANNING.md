# 2. 规划 - AI Lead DM Generator

## 用户流程

### 主要用户旅程

#### 1. 潜在客户管理流程
```
开始 → 添加潜在客户 → 查看潜在客户列表 → 编辑/删除潜在客户 → 结束
```

#### 2. 消息生成流程
```
选择潜在客户 → 配置消息参数 → AI生成消息 → 预览和编辑 → 保存消息 → 结束
```

#### 3. 批量操作流程
```
选择多个潜在客户 → 选择操作类型 → 批量生成消息 → 查看结果 → 结束
```

### 详细用户流程图

#### 核心功能流程
```
用户登录/访问
    ↓
查看潜在客户仪表板
    ↓
[分支1] 添加新潜在客户
    ↓
填写潜在客户信息 → 保存 → 返回仪表板
    ↓
[分支2] 生成个性化消息
    ↓
选择潜在客户 → 配置消息参数 → AI生成 → 预览 → 保存
    ↓
[分支3] 批量操作
    ↓
选择多个潜在客户 → 批量生成 → 查看结果
    ↓
[分支4] 导出数据
    ↓
选择导出格式 → 下载文件
```

#### 消息生成详细流程
```
选择潜在客户
    ↓
选择生成模式（单个/批量）
    ↓
配置消息参数：
  - 消息风格（专业/友好/正式）
  - 目标（建立联系/销售/招聘）
  - 长度（简短/标准/详细）
  - 是否包含表情符号
    ↓
AI生成消息
    ↓
预览生成结果
    ↓
[可选] 手动编辑
    ↓
保存到数据库
    ↓
更新潜在客户状态
```

## 功能列表

### MVP功能（核心功能）

#### 1. 潜在客户管理
- ✅ **添加潜在客户**
  - 姓名、职位、公司、LinkedIn URL
  - 状态管理（活跃/非活跃/已转化）
  - 创建时间和更新时间

- ✅ **查看潜在客户列表**
  - 表格形式展示
  - 搜索和筛选功能
  - 分页显示

- ✅ **编辑和删除潜在客户**
  - 内联编辑
  - 批量删除
  - 确认对话框

#### 2. AI消息生成
- ✅ **单个消息生成**
  - 基于潜在客户信息生成个性化消息
  - 多种消息风格选择
  - 实时预览

- ✅ **批量消息生成**
  - 选择多个潜在客户
  - 批量生成个性化消息
  - 进度显示

- ✅ **消息参数配置**
  - 消息风格（专业/友好/正式）
  - 目标（建立联系/销售/招聘）
  - 长度控制
  - 表情符号选项

#### 3. 消息管理
- ✅ **消息保存**
  - 自动保存到数据库
  - 与潜在客户关联
  - 版本历史

- ✅ **消息状态跟踪**
  - 草稿/已批准/已发送
  - 状态更新
  - 时间戳记录

#### 4. 数据导出
- ✅ **CSV导出**
  - 潜在客户数据导出
  - 消息数据导出
  - 自定义字段选择

### Bonus功能（增强功能）

#### 1. 高级分析
- 📊 **消息效果分析**
  - 回复率统计
  - 最佳发送时间分析
  - 消息风格效果对比

- 📈 **潜在客户转化漏斗**
  - 转化率跟踪
  - 阶段分析
  - 预测模型

#### 2. 集成功能
- 🔗 **LinkedIn集成**
  - 直接发送消息
  - 自动同步联系人
  - 消息状态同步

- 📧 **邮件集成**
  - 邮件模板生成
  - 批量邮件发送
  - 邮件跟踪

#### 3. 团队协作
- 👥 **多用户支持**
  - 用户权限管理
  - 团队数据共享
  - 协作工作流

- 📝 **模板管理**
  - 自定义消息模板
  - 模板库
  - 模板分享

#### 4. 高级AI功能
- 🎯 **智能推荐**
  - 最佳联系时间推荐
  - 消息内容优化建议
  - 潜在客户优先级排序

- 🔄 **A/B测试**
  - 消息版本测试
  - 效果对比
  - 自动优化

## 技术栈

### 前端技术
- **框架**: Next.js 15.4.2 (App Router)
- **语言**: TypeScript 5.x
- **样式**: Tailwind CSS 3.4.17
- **UI组件**: shadcn/ui + Radix UI
- **状态管理**: TanStack Query (React Query) 5.83.0
- **表单处理**: React Hook Form 7.60.0 + Zod 3.25.76
- **图标**: Lucide React 0.525.0

### 后端技术
- **API框架**: Next.js API Routes
- **数据库**: Supabase (PostgreSQL)
- **ORM**: Supabase Client 2.52.0
- **认证**: Supabase Auth (计划中)

### AI/ML技术
- **AI服务**: OpenAI API 5.10.1
- **模型**: GPT-4 (主要) / GPT-3.5-turbo (备用)
- **提示工程**: 自定义提示模板

### 开发工具
- **构建工具**: Next.js (内置)
- **代码质量**: ESLint 9.x + TypeScript
- **版本控制**: Git
- **包管理**: npm

### 部署和基础设施
- **部署平台**: Vercel (推荐) / Netlify
- **数据库托管**: Supabase Cloud
- **CDN**: Vercel Edge Network
- **监控**: Vercel Analytics (计划中)

### 第三方服务
- **文件存储**: Supabase Storage (计划中)
- **邮件服务**: Resend / SendGrid (计划中)
- **分析**: Google Analytics / Vercel Analytics (计划中)

## 技术架构决策

### 为什么选择这些技术？

#### 1. Next.js
- **优势**: 全栈框架，SEO友好，快速开发
- **考虑**: 学习曲线，过度工程化风险
- **决策**: 选择App Router，现代化开发体验

#### 2. Supabase
- **优势**: 开箱即用的后端服务，PostgreSQL数据库
- **考虑**: 供应商锁定，成本随规模增长
- **决策**: 快速启动，后期可迁移到自建数据库

#### 3. OpenAI API
- **优势**: 最先进的AI模型，易于集成
- **考虑**: 成本，API限制，数据隐私
- **决策**: 使用GPT-4，实现成本优化策略

#### 4. TanStack Query
- **优势**: 强大的数据获取和缓存
- **考虑**: 学习成本，包大小
- **决策**: 提升用户体验，减少不必要的API调用

## 开发阶段规划

### 阶段1: MVP开发 (4-6周)
- 基础UI框架搭建
- 潜在客户CRUD操作
- 基础AI消息生成
- 数据导出功能

### 阶段2: 功能完善 (2-3周)
- 批量操作优化
- 消息参数配置
- 状态管理完善
- 错误处理优化

### 阶段3: 性能优化 (1-2周)
- 加载性能优化
- 缓存策略实现
- 用户体验改进
- 测试和调试

### 阶段4: 部署上线 (1周)
- 生产环境配置
- 监控和日志
- 文档完善
- 用户反馈收集 