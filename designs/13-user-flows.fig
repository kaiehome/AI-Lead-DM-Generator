# Figma Design File: 13-user-flows.fig

## 用户流程设计系统

### 设计规范
- **流程图风格**: 简洁现代
- **颜色系统**: 与基础组件保持一致
- **字体系统**: Inter
- **连接线**: 2px, 颜色 #6B7280
- **节点**: 圆角矩形, 8px圆角
- **决策点**: 菱形

### 1. 用户注册和登录流程

#### 注册流程
```
开始 → 访问注册页面 → 填写注册信息 → 验证邮箱 → 完成注册 → 进入仪表板
```

**详细步骤**:
1. **访问注册页面**
   - 用户访问应用首页
   - 点击"注册"按钮
   - 进入注册表单页面

2. **填写注册信息**
   - 输入邮箱地址
   - 设置密码
   - 确认密码
   - 同意服务条款
   - 点击"注册"按钮

3. **验证邮箱**
   - 系统发送验证邮件
   - 用户检查邮箱
   - 点击验证链接
   - 验证成功

4. **完成注册**
   - 显示注册成功页面
   - 自动跳转到仪表板

#### 登录流程
```
开始 → 访问登录页面 → 输入凭据 → 验证凭据 → 登录成功 → 进入仪表板
```

**详细步骤**:
1. **访问登录页面**
   - 用户访问应用首页
   - 点击"登录"按钮
   - 进入登录表单页面

2. **输入凭据**
   - 输入邮箱地址
   - 输入密码
   - 选择"记住我"（可选）
   - 点击"登录"按钮

3. **验证凭据**
   - 系统验证邮箱和密码
   - 验证成功或失败

4. **登录成功**
   - 显示登录成功通知
   - 跳转到仪表板

### 2. 潜在客户管理流程

#### 添加潜在客户流程
```
开始 → 进入潜在客户页面 → 点击"添加"按钮 → 填写表单 → 保存 → 显示成功通知
```

**详细步骤**:
1. **进入潜在客户页面**
   - 从仪表板点击"潜在客户"
   - 或从导航菜单选择"潜在客户管理"

2. **点击"添加"按钮**
   - 在页面右上角找到"添加潜在客户"按钮
   - 点击按钮打开添加表单

3. **填写表单**
   - 输入姓名（必填）
   - 输入职位（必填）
   - 输入公司（必填）
   - 输入LinkedIn URL（可选）
   - 选择状态（默认：活跃）
   - 添加备注（可选）

4. **保存**
   - 点击"保存"按钮
   - 系统验证必填字段
   - 保存到数据库

5. **显示成功通知**
   - 显示绿色成功通知
   - 表单重置为空白状态
   - 潜在客户列表自动更新

#### 编辑潜在客户流程
```
开始 → 查看潜在客户列表 → 点击"编辑"按钮 → 修改信息 → 保存 → 显示成功通知
```

**详细步骤**:
1. **查看潜在客户列表**
   - 进入潜在客户管理页面
   - 浏览潜在客户列表

2. **点击"编辑"按钮**
   - 在目标潜在客户卡片上点击"编辑"图标
   - 打开编辑模态框

3. **修改信息**
   - 在模态框中修改相关信息
   - 可以修改所有字段

4. **保存**
   - 点击"保存"按钮
   - 系统更新数据库

5. **显示成功通知**
   - 显示绿色成功通知
   - 模态框关闭
   - 列表自动更新

#### 删除潜在客户流程
```
开始 → 查看潜在客户列表 → 点击"删除"按钮 → 确认删除 → 删除成功 → 显示成功通知
```

**详细步骤**:
1. **查看潜在客户列表**
   - 进入潜在客户管理页面
   - 浏览潜在客户列表

2. **点击"删除"按钮**
   - 在目标潜在客户卡片上点击"删除"图标
   - 打开确认删除模态框

3. **确认删除**
   - 查看确认信息
   - 点击"删除"按钮确认
   - 或点击"取消"按钮取消

4. **删除成功**
   - 系统从数据库删除记录
   - 关闭确认模态框

5. **显示成功通知**
   - 显示绿色成功通知
   - 列表自动更新

### 3. 消息生成流程

#### 单个消息生成流程
```
开始 → 进入消息生成器 → 选择潜在客户 → 配置参数 → 生成消息 → 预览消息 → 保存/发送
```

**详细步骤**:
1. **进入消息生成器**
   - 从仪表板点击"消息生成器"
   - 或从导航菜单选择"消息生成器"

2. **选择潜在客户**
   - 选择"单个潜在客户"模式
   - 从下拉菜单选择目标潜在客户
   - 或点击"选择潜在客户"按钮打开选择模态框

3. **配置参数**
   - 选择消息风格（专业、友好、正式）
   - 选择消息目标（建立联系、销售、招聘）
   - 选择消息长度（简短、标准、详细）
   - 选择是否包含表情符号
   - 添加自定义提示（可选）

4. **生成消息**
   - 点击"生成消息"按钮
   - 系统调用AI API
   - 显示生成进度

5. **预览消息**
   - 在右侧预览区域查看生成的消息
   - 检查消息内容和格式
   - 可以点击"重新生成"按钮

6. **保存/发送**
   - 点击"保存"按钮保存到消息历史
   - 点击"复制"按钮复制到剪贴板
   - 点击"发送"按钮（如果集成LinkedIn）

#### 批量消息生成流程
```
开始 → 进入消息生成器 → 选择批量模式 → 选择多个潜在客户 → 配置参数 → 生成消息 → 预览所有消息 → 批量保存
```

**详细步骤**:
1. **进入消息生成器**
   - 从仪表板点击"消息生成器"
   - 或从导航菜单选择"消息生成器"

2. **选择批量模式**
   - 选择"批量生成"模式
   - 系统显示批量选择界面

3. **选择多个潜在客户**
   - 从列表中选择多个潜在客户（最多10个）
   - 可以搜索和筛选潜在客户
   - 显示已选择的潜在客户列表

4. **配置参数**
   - 配置消息生成参数（与单个模式相同）
   - 参数将应用于所有选中的潜在客户

5. **生成消息**
   - 点击"生成消息"按钮
   - 系统为每个潜在客户生成个性化消息
   - 显示生成进度

6. **预览所有消息**
   - 在右侧预览区域查看所有生成的消息
   - 可以逐个查看和编辑
   - 可以重新生成特定消息

7. **批量保存**
   - 点击"保存所有"按钮
   - 所有消息保存到消息历史
   - 显示保存成功通知

### 4. 消息管理流程

#### 查看消息历史流程
```
开始 → 进入消息管理页面 → 查看消息列表 → 筛选/搜索 → 查看详情 → 编辑/删除
```

**详细步骤**:
1. **进入消息管理页面**
   - 从导航菜单选择"消息管理"
   - 或从仪表板点击"消息历史"

2. **查看消息列表**
   - 查看所有已生成的消息
   - 显示消息基本信息（收件人、生成时间、状态）

3. **筛选/搜索**
   - 使用搜索框搜索特定消息
   - 使用筛选器按状态筛选
   - 使用日期范围筛选

4. **查看详情**
   - 点击消息项目查看详细信息
   - 显示完整的消息内容
   - 显示生成参数和收件人信息

5. **编辑/删除**
   - 点击"编辑"按钮修改消息
   - 点击"删除"按钮删除消息
   - 点击"复制"按钮复制消息内容

#### 消息状态管理流程
```
开始 → 查看消息列表 → 选择消息 → 更新状态 → 保存状态 → 显示成功通知
```

**详细步骤**:
1. **查看消息列表**
   - 进入消息管理页面
   - 浏览消息列表

2. **选择消息**
   - 点击目标消息
   - 打开消息详情页面

3. **更新状态**
   - 选择新的状态（草稿、已发送、已回复、已转化）
   - 添加状态备注（可选）

4. **保存状态**
   - 点击"保存"按钮
   - 系统更新消息状态

5. **显示成功通知**
   - 显示绿色成功通知
   - 状态更新完成

### 5. 数据导出流程

#### 潜在客户导出流程
```
开始 → 进入潜在客户页面 → 选择导出选项 → 选择格式 → 确认导出 → 下载文件
```

**详细步骤**:
1. **进入潜在客户页面**
   - 从导航菜单选择"潜在客户管理"
   - 或从仪表板点击"潜在客户"

2. **选择导出选项**
   - 点击"导出"按钮
   - 选择导出范围（全部、选中、筛选结果）

3. **选择格式**
   - 选择导出格式（CSV、Excel、PDF）
   - 选择包含的字段
   - 选择排序方式

4. **确认导出**
   - 点击"确认导出"按钮
   - 系统生成导出文件

5. **下载文件**
   - 显示下载链接
   - 点击下载文件
   - 文件保存到本地

#### 消息历史导出流程
```
开始 → 进入消息管理页面 → 选择导出选项 → 选择格式 → 确认导出 → 下载文件
```

**详细步骤**:
1. **进入消息管理页面**
   - 从导航菜单选择"消息管理"
   - 或从仪表板点击"消息历史"

2. **选择导出选项**
   - 点击"导出"按钮
   - 选择导出范围（全部、选中、筛选结果）

3. **选择格式**
   - 选择导出格式（CSV、Excel、PDF）
   - 选择包含的字段
   - 选择时间范围

4. **确认导出**
   - 点击"确认导出"按钮
   - 系统生成导出文件

5. **下载文件**
   - 显示下载链接
   - 点击下载文件
   - 文件保存到本地

### 6. 设置和配置流程

#### 用户设置流程
```
开始 → 进入设置页面 → 修改个人信息 → 保存设置 → 显示成功通知
```

**详细步骤**:
1. **进入设置页面**
   - 从导航菜单选择"设置"
   - 或从用户下拉菜单选择"设置"

2. **修改个人信息**
   - 修改用户名
   - 修改邮箱地址
   - 修改密码
   - 上传头像

3. **保存设置**
   - 点击"保存"按钮
   - 系统验证输入
   - 更新用户信息

4. **显示成功通知**
   - 显示绿色成功通知
   - 设置更新完成

#### API配置流程
```
开始 → 进入设置页面 → 选择API设置 → 输入API密钥 → 测试连接 → 保存配置
```

**详细步骤**:
1. **进入设置页面**
   - 从导航菜单选择"设置"
   - 点击"API配置"标签

2. **选择API设置**
   - 查看当前API配置状态
   - 点击"配置"按钮

3. **输入API密钥**
   - 输入OpenAI API密钥
   - 输入Supabase配置信息
   - 验证密钥格式

4. **测试连接**
   - 点击"测试连接"按钮
   - 系统验证API连接
   - 显示测试结果

5. **保存配置**
   - 点击"保存"按钮
   - 系统保存API配置
   - 显示保存成功通知

### 7. 错误处理流程

#### 表单验证错误流程
```
开始 → 填写表单 → 提交表单 → 验证失败 → 显示错误信息 → 修正错误 → 重新提交
```

**详细步骤**:
1. **填写表单**
   - 用户填写表单字段
   - 可能遗漏必填字段或输入无效数据

2. **提交表单**
   - 点击"保存"或"提交"按钮
   - 系统开始验证

3. **验证失败**
   - 系统检测到验证错误
   - 停止提交过程

4. **显示错误信息**
   - 在相应字段下方显示红色错误信息
   - 错误字段边框变为红色
   - 显示错误图标

5. **修正错误**
   - 用户根据错误信息修正输入
   - 错误信息实时消失

6. **重新提交**
   - 点击"保存"按钮重新提交
   - 验证通过后成功保存

#### 网络错误处理流程
```
开始 → 发起请求 → 网络错误 → 显示错误通知 → 重试选项 → 重试或取消
```

**详细步骤**:
1. **发起请求**
   - 用户执行需要网络请求的操作
   - 系统发送API请求

2. **网络错误**
   - 网络连接失败
   - 服务器无响应
   - 超时错误

3. **显示错误通知**
   - 显示红色错误通知
   - 说明错误原因
   - 提供重试选项

4. **重试选项**
   - 点击"重试"按钮重新尝试
   - 点击"取消"按钮取消操作
   - 点击"稍后重试"按钮

5. **重试或取消**
   - 如果选择重试，重新发起请求
   - 如果选择取消，返回上一状态

### 8. 响应式流程适配

#### 桌面端流程
- **完整功能**: 所有功能正常使用
- **多列布局**: 充分利用屏幕空间
- **快捷键**: 支持键盘快捷键
- **悬停效果**: 丰富的悬停交互

#### 平板端流程
- **简化布局**: 单列或双列布局
- **触摸优化**: 增大点击区域
- **手势支持**: 支持滑动和手势
- **折叠导航**: 侧边栏可折叠

#### 移动端流程
- **单列布局**: 垂直排列所有元素
- **触摸友好**: 大按钮和输入框
- **简化操作**: 减少复杂操作
- **快速访问**: 重要功能优先显示

---

**设计文件状态**: 完成
**创建时间**: 2024年1月21日
**版本**: v1.0 