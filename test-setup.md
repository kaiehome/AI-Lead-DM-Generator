# 测试设置指南

## 🧪 功能测试清单

### 前置条件
- [ ] 环境变量已配置
- [ ] Supabase数据库已设置
- [ ] OpenAI API密钥有效

### 1. 基础功能测试

#### Lead输入表单
- [ ] 输入姓名（必填）
- [ ] 输入职位（必填）
- [ ] 输入公司（必填）
- [ ] 输入LinkedIn URL（可选）
- [ ] 提交表单
- [ ] 验证数据保存到数据库

#### AI消息生成
- [ ] 选择已创建的lead
- [ ] 点击"Generate"按钮
- [ ] 等待AI生成消息
- [ ] 验证消息内容相关性
- [ ] 检查字符数限制（500字符）

#### 状态管理
- [ ] 更改消息状态为"Approved"
- [ ] 更改消息状态为"Sent"
- [ ] 验证状态更新保存

#### 编辑功能
- [ ] 点击"Edit"按钮
- [ ] 修改lead信息
- [ ] 保存更改
- [ ] 验证数据更新

#### 删除功能
- [ ] 点击"Delete"按钮
- [ ] 确认删除操作
- [ ] 验证数据从数据库删除

### 2. 错误处理测试

#### 网络错误
- [ ] 断开网络连接
- [ ] 尝试创建lead
- [ ] 验证错误提示

#### API错误
- [ ] 使用无效的OpenAI API密钥
- [ ] 尝试生成消息
- [ ] 验证错误处理

#### 表单验证
- [ ] 提交空表单
- [ ] 验证必填字段提示
- [ ] 测试输入格式验证

### 3. 性能测试

#### 加载性能
- [ ] 页面初始加载时间
- [ ] 数据获取响应时间
- [ ] 消息生成响应时间

#### 并发测试
- [ ] 同时创建多个leads
- [ ] 同时生成多个消息
- [ ] 验证数据一致性

### 4. 浏览器兼容性

#### 现代浏览器
- [ ] Chrome (最新版本)
- [ ] Firefox (最新版本)
- [ ] Safari (最新版本)
- [ ] Edge (最新版本)

#### 移动设备
- [ ] iOS Safari
- [ ] Android Chrome
- [ ] 响应式布局验证

## 🔧 测试工具

### 浏览器开发者工具
```javascript
// 检查网络请求
// 在Network标签页监控API调用

// 检查控制台错误
// 在Console标签页查看错误信息

// 检查本地存储
// 在Application标签页查看存储状态
```

### Supabase仪表板
- 检查数据库表数据
- 监控查询性能
- 查看错误日志

### Vercel仪表板
- 查看部署状态
- 监控函数执行
- 检查环境变量

## 📊 测试报告模板

### 测试结果
```
测试日期: _____________
测试环境: _____________
测试人员: _____________

功能测试结果:
□ Lead输入表单: 通过/失败
□ AI消息生成: 通过/失败
□ 状态管理: 通过/失败
□ 编辑功能: 通过/失败
□ 删除功能: 通过/失败

错误处理测试结果:
□ 网络错误: 通过/失败
□ API错误: 通过/失败
□ 表单验证: 通过/失败

性能测试结果:
□ 页面加载: ___ms
□ 数据获取: ___ms
□ 消息生成: ___ms

浏览器兼容性:
□ Chrome: 通过/失败
□ Firefox: 通过/失败
□ Safari: 通过/失败
□ Edge: 通过/失败

发现的问题:
1. _____________
2. _____________
3. _____________

建议改进:
1. _____________
2. _____________
3. _____________
```

## 🚨 常见问题解决

### 环境变量问题
```bash
# 检查环境变量是否正确加载
echo $NEXT_PUBLIC_SUPABASE_URL
echo $OPENAI_API_KEY
```

### 数据库连接问题
```sql
-- 检查表是否存在
SELECT * FROM information_schema.tables 
WHERE table_name = 'leads';

-- 检查数据
SELECT * FROM leads LIMIT 5;
```

### API调用问题
```bash
# 测试OpenAI API
curl -X POST https://api.openai.com/v1/chat/completions \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-3.5-turbo",
    "messages": [{"role": "user", "content": "Hello"}]
  }'
```

## ✅ 测试完成标准

### 功能完整性
- [ ] 所有核心功能正常工作
- [ ] 错误处理机制有效
- [ ] 数据持久化正确

### 性能要求
- [ ] 页面加载时间 < 3秒
- [ ] API响应时间 < 5秒
- [ ] 消息生成时间 < 10秒

### 用户体验
- [ ] 界面响应流畅
- [ ] 错误提示清晰
- [ ] 操作流程直观

### 安全性
- [ ] API密钥安全存储
- [ ] 数据传输加密
- [ ] 输入数据验证

## 📝 测试记录

请在测试过程中记录以下信息：

1. **测试环境**
   - 操作系统版本
   - 浏览器版本
   - 网络环境

2. **测试数据**
   - 测试用例数量
   - 通过/失败数量
   - 性能指标

3. **问题记录**
   - 问题描述
   - 复现步骤
   - 预期结果
   - 实际结果

4. **改进建议**
   - 功能优化
   - 性能提升
   - 用户体验改进 